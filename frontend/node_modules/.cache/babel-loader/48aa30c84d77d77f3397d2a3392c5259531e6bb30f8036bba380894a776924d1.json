{"ast":null,"code":"var _jsxFileName = \"D:\\\\git\\\\22981A4475\\\\frontend\\\\src\\\\components\\\\ShortenForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nim;\nfunction ShortenForm({\n  onShorten\n}) {\n  _s();\n  const [url, setUrl] = useState('');\n  const [customCode, setCustomCode] = useState('');\n  const [expiresAt, setExpiresAt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const requestData = {\n        url,\n        generateQR: true\n      };\n      if (customCode) {\n        requestData.customCode = customCode;\n      }\n      if (expiresAt) {\n        requestData.expiresAt = new Date(expiresAt).toISOString();\n      }\n      const res = await axios.post('http://localhost:3000/api/v1/urls/shorten', requestData);\n      if (res.data.success) {\n        onShorten({\n          shortLink: res.data.data.shortUrl,\n          shortCode: res.data.data.shortCode,\n          originalUrl: res.data.data.originalUrl,\n          qrCode: res.data.data.qrCode,\n          createdAt: res.data.data.createdAt\n        });\n        // Reset form\n        setUrl('');\n        setCustomCode('');\n        setExpiresAt('');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Error shortening URL';\n      setError(errorMessage);\n      console.error('Error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shorten-form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"url\",\n          children: \"Long URL *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"url\",\n          type: \"url\",\n          value: url,\n          onChange: e => setUrl(e.target.value),\n          placeholder: \"https://example.com/very-long-url\",\n          required: true,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"customCode\",\n          children: \"Custom Short Code (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"customCode\",\n          type: \"text\",\n          value: customCode,\n          onChange: e => setCustomCode(e.target.value),\n          placeholder: \"my-custom-code\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"expiresAt\",\n          children: \"Expiration Date (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"expiresAt\",\n          type: \"datetime-local\",\n          value: expiresAt,\n          onChange: e => setExpiresAt(e.target.value),\n          min: new Date().toISOString().slice(0, 16),\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading || !url,\n        children: loading ? 'Shortening...' : 'Shorten URL'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(ShortenForm, \"G9sF2sDl7Y9/Eq/hevWIYY1D18s=\");\n_c = ShortenForm;\nexport default ShortenForm;\nvar _c;\n$RefreshReg$(_c, \"ShortenForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","im","ShortenForm","onShorten","_s","url","setUrl","customCode","setCustomCode","expiresAt","setExpiresAt","loading","setLoading","error","setError","handleSubmit","e","preventDefault","requestData","generateQR","Date","toISOString","res","post","data","success","shortLink","shortUrl","shortCode","originalUrl","qrCode","createdAt","err","_err$response","_err$response$data","_err$response2","_err$response2$data","errorMessage","response","message","console","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","min","slice","_c","$RefreshReg$"],"sources":["D:/git/22981A4475/frontend/src/components/ShortenForm.js"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport axios from 'axios';\nim\n\nfunction ShortenForm({ onShorten }) {\n  const [url, setUrl] = useState('');\n  const [customCode, setCustomCode] = useState('');\n  const [expiresAt, setExpiresAt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    \n    try {\n      const requestData = {\n        url,\n        generateQR: true\n      };\n      \n      if (customCode) {\n        requestData.customCode = customCode;\n      }\n      \n      if (expiresAt) {\n        requestData.expiresAt = new Date(expiresAt).toISOString();\n      }\n\n      const res = await axios.post('http://localhost:3000/api/v1/urls/shorten', requestData);\n      \n      if (res.data.success) {\n        onShorten({\n          shortLink: res.data.data.shortUrl,\n          shortCode: res.data.data.shortCode,\n          originalUrl: res.data.data.originalUrl,\n          qrCode: res.data.data.qrCode,\n          createdAt: res.data.data.createdAt\n        });\n        // Reset form\n        setUrl('');\n        setCustomCode('');\n        setExpiresAt('');\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.error || err.response?.data?.message || 'Error shortening URL';\n      setError(errorMessage);\n      console.error('Error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"shorten-form\">\n      <form onSubmit={handleSubmit}>\n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"url\">Long URL *</label>\n          <input \n            id=\"url\"\n            type=\"url\"\n            value={url} \n            onChange={e => setUrl(e.target.value)} \n            placeholder=\"https://example.com/very-long-url\" \n            required \n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"customCode\">Custom Short Code (optional)</label>\n          <input \n            id=\"customCode\"\n            type=\"text\"\n            value={customCode} \n            onChange={e => setCustomCode(e.target.value)} \n            placeholder=\"my-custom-code\" \n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"expiresAt\">Expiration Date (optional)</label>\n          <input \n            id=\"expiresAt\"\n            type=\"datetime-local\"\n            value={expiresAt} \n            onChange={e => setExpiresAt(e.target.value)}\n            min={new Date().toISOString().slice(0, 16)}\n            disabled={loading}\n          />\n        </div>\n\n        <button type=\"submit\" disabled={loading || !url}>\n          {loading ? 'Shortening...' : 'Shorten URL'}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default ShortenForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}